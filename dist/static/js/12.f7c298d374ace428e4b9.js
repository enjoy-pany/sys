webpackJsonp([12],{LzQk:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("WqDU"),a={loadFileBuffer:function(e,n){window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext;var t=new window.AudioContext;try{t=new window.AudioContext}catch(e){Console.log("!Your browser does not support AudioContext")}if(0!==e.length){var o=new FileReader;o.onload=function(e){var o=e.target.result;t.decodeAudioData(o,function(e){var t=e.getChannelData(0);n(t)},function(e){console.log("!哎玛，文件解码失败:(")})},o.readAsArrayBuffer(e)}},getTime:function(e){var n=svgOper_biaozhu_v3.totalTime;return(e/(svgOper_biaozhu_v3.totalWidth/(n=1e3*Number(Number(n).toFixed(2))))/1e3).toFixed(3)-0},getWidth:function(e){var n=svgOper_biaozhu_v3.totalTime;return 1e3*e*(svgOper_biaozhu_v3.totalWidth/(n=1e3*Number(n).toFixed(2)))-0}},i={data:function(){return{canvas:null,rectArr:[]}},methods:{handleFileChange:function(e){var n=this;a.loadFileBuffer(e.target.files[0],function(e){var t=new Float32Array(e.length/500);for(var o in t)t[o]=e[500*o];n.canvas.drawPath(t,1,"green",1)})},handleMouseWheel:function(e){},handleMouseDown:function(e){e.preventDefault();this.canvas.windowToCanvas(e.x,e.y)},handleMouseUp:function(e){this.canvas.canvas.onmousemove=null,this.canvas.canvas.onmouseup=null}},components:{},mounted:function(){var e=document.getElementById("canvas");this.canvas=new o.a(e)}},u={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-row",[t("input",{attrs:{type:"file",name:""},on:{change:e.handleFileChange}}),e._v(" "),t("el-button",[e._v("http请求方式")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(n){e.seleBtn=!e.seleBtn}}},[e._v("绘制完整波谱")]),e._v(" "),t("el-button",[e._v("边播放边绘制波谱")])],1),e._v(" "),t("div",{staticClass:"audioWrap"},[t("canvas",{attrs:{width:"1000",height:"500",id:"canvas"},on:{mousedown:e.handleMouseDown,mouseup:e.handleMouseUp,mousewheel:e.handleMouseWheel}},[e._v("\n            canvas not supported\n        ")])])],1)},staticRenderFns:[]};var r=t("VU/8")(i,u,!1,function(e){t("VtFZ")},"data-v-4c293bfa",null);n.default=r.exports},VtFZ:function(e,n){}});
//# sourceMappingURL=12.f7c298d374ace428e4b9.js.map