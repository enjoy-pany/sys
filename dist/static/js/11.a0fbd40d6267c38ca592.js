webpackJsonp([11],{"1rQA":function(s,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("WqDU"),i={data:function(){return{canvas:null,nowImg:null,imgX:0,imgY:0,zoom:1}},methods:{handleMouseWheel:function(s){var n=this.canvas.windowToCanvas(s.clientX,s.clientY);s.wheelDelta<0?(this.zoom*=1.8,this.imgX=n.x-1.8*(n.x-this.imgX),this.imgY=n.y-1.8*(n.y-this.imgY)):(this.zoom/=1.8,this.imgX=this.imgX+(n.x-this.imgX)*(.8/1.8),this.imgY=this.imgY+(n.y-this.imgY)*(.8/1.8)),console.log("scale =========>",this.zoom),this.canvas.drawImage(this.nowImg,this.imgX,this.imgY,this.zoom),this.$message.success("缩放至"+(100*this.zoom).toFixed(0)+"%")},handleMouseDown:function(s){var n=this,a=this.canvas.windowToCanvas(s.x,s.y);s.preventDefault(),1==s.buttons&&(this.canvas.canvas.onmousemove=function(s){n.canvas.canvas.style.cursor="move";var t=n.canvas.windowToCanvas(s.clientX,s.clientY),i=t.x-a.x,o=t.y-a.y;a=t,n.imgX+=i,n.imgY+=o,n.canvas.drawImage(n.nowImg,n.imgX,n.imgY,n.zoom)})},handleMouseUp:function(s){this.canvas.canvas.onmousemove=null,this.canvas.canvas.onmouseup=null,this.canvas.canvas.style.cursor="default"},loadImg:function(s){var n=this;this.zoom=1;var a=new Image;a.onload=function(){var s=a.width,t=a.height,i=n.canvas.canvas.width,o=n.canvas.canvas.height;s>i&&(n.zoom=i/s,s=i,t*=n.zoom),t>o&&(n.zoom=o/t,t=o,s*=n.zoom),n.imgX=(i-s)/2,n.imgY=(o-t)/2,n.canvas.drawImage(a,n.imgX,n.imgY,n.zoom)},a.src=s,this.nowImg=a}},components:{},mounted:function(){var s=document.getElementById("canvas");this.canvas=new t.a(s),this.loadImg("./static/images/timg.jpeg")}},o={render:function(){var s=this.$createElement,n=this._self._c||s;return n("div",[n("canvas",{attrs:{width:"1000",height:"500",id:"canvas"},on:{mousedown:this.handleMouseDown,mouseup:this.handleMouseUp,mousewheel:this.handleMouseWheel}},[this._v("\n        canvas not supported\n    ")])])},staticRenderFns:[]};var e=a("VU/8")(i,o,!1,function(s){a("rHYX")},"data-v-4ffb18fa",null);n.default=e.exports},rHYX:function(s,n){}});
//# sourceMappingURL=11.a0fbd40d6267c38ca592.js.map