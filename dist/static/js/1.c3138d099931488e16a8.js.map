{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./src/page/canvasDemo/tool/canvasTool.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js"],"names":["__webpack_require__","$Object","Object","module","exports","it","key","desc","defineProperty","default","__esModule","Float32Array","max","Math","apply","Canvas","canvas","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","this","context","getContext","x","y","bbox","getBoundingClientRect","left","width","top","height","img","imgX","imgY","imgScale","clearRect","globalAlpha","drawImage","rectArr","_this","clearAllRect","forEach","rect","beginPath","stroke","arr","arguments","length","undefined","lineWidth","color","rate","strokeStyle","fillStyle","min","base","abs","newArr","map","p","i","moveTo","closePath","fill","lineTo","pos","drawRect","isPointInPath","instance","Constructor","TypeError","$export","S","F","f","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype"],"mappings":"yCAAAA,EAAA,QACA,IAAAC,EAAAD,EAAA,QAAAE,OACAC,EAAAC,QAAA,SAAAC,EAAAC,EAAAC,GACA,OAAAN,EAAAO,eAAAH,EAAAC,EAAAC,0BCHAJ,EAAAC,SAAkBK,QAAAT,EAAA,QAAAU,YAAA,oHCMlBC,aAAaC,IAAM,SAAUD,GACzB,OAAOE,KAAKD,IAAIE,MAAOD,KAAMF,QAE3BI,aACL,SAAAA,EAAYC,GAAQC,IAAAC,KAAAH,GACbG,KAAKF,OAASA,EACdE,KAAKC,QAAUH,EAAOI,WAAW,yDAGtBC,EAAGC,GACd,IAAIC,EAAOL,KAAKF,OAAOQ,wBACvB,OACIH,EAAGA,EAAIE,EAAKE,MAAQT,OAAOU,MAAQH,EAAKG,OACxCJ,EAAGA,EAAIC,EAAKI,KAAOX,OAAOY,OAASL,EAAKK,2CAWtCC,EAAIC,EAAKC,EAAKC,GACpBd,KAAKC,QAAQc,UAAU,EAAG,EAAGf,KAAKF,OAAOU,MAAOR,KAAKF,OAAOY,QACxDC,IACAX,KAAKC,QAAQe,YAAc,EAC3BhB,KAAKC,QAAQgB,UACTN,EACA,EACA,EACAA,EAAIH,MACJG,EAAID,OACJE,EACAC,EACAF,EAAIH,MAAQM,EACZH,EAAID,OAASI,qCAahBI,GAAQ,IAAAC,EAAAnB,KAChBA,KAAKoB,eACLF,EAAQG,QAAQ,SAACC,GAChBH,EAAKlB,QAAQsB,YACVJ,EAAKlB,QAAQqB,KAAKA,EAAKnB,EAAEmB,EAAKlB,EAAEkB,EAAKd,MAAMc,EAAKZ,QAChDS,EAAKlB,QAAQuB,8CAWkC,IAA3CC,EAA2CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAAnCG,EAAmCH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB,EAAGI,EAAsBJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,QAASK,EAAOL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAF,EAC9C1B,KAAKoB,eACLpB,KAAKF,OAAOU,MAAQuB,EAAMN,EAAIE,OAC9B3B,KAAKC,QAAQ4B,UAAYA,EACzB7B,KAAKC,QAAQ+B,YAAcF,EAC3B9B,KAAKC,QAAQgC,UAAUH,EACvB,IAAM3B,EAAIH,KAAKF,OAAOY,OAAO,EACvBhB,EAAMC,KAAKD,IAAIE,MAAM,KAAM6B,GAC3BS,EAAMvC,KAAKuC,IAAItC,MAAM,KAAM6B,GAE7BU,EAAO,EAENA,EADFxC,KAAKyC,IAAI1C,GAAOC,KAAKyC,IAAIF,GAChB/B,EAAER,KAAKyC,IAAI1C,GAEZS,EAAER,KAAKyC,IAAIF,GAEtB,IAAIG,EAASZ,EAAIa,IAAI,SAACC,GAAD,OAAOA,EAAEJ,EAAKhC,EAPnB,KAQhB,IAAI,IAAIqC,KAAKH,EACD,GAALG,EACCxC,KAAKC,QAAQwC,OAAO,EAAGJ,EAAOG,IAE3BA,GAAKH,EAAOV,OAAO,GAClB3B,KAAKC,QAAQyC,YACb1C,KAAKC,QAAQuB,SACbxB,KAAKC,QAAQ0C,QAEb3C,KAAKC,QAAQ2C,OAAOJ,EAAET,EAAMM,EAAOG,qCAa1CtB,EAAQ2B,GAChB,IAAI,IAAIL,KAAKtB,EAEZ,GADAlB,KAAK8C,UAAU5B,EAAQsB,KACpBxC,KAAKC,QAAQ8C,cAAcF,EAAI1C,EAAG0C,EAAIzC,GAExC,OADAJ,KAAK8C,SAAS5B,GACPsB,EAIT,OADAxC,KAAK8C,SAAS5B,IACL,yCAONlB,KAAKC,QAAQc,UAAU,EAAG,EAAGf,KAAKF,OAAOU,MAAOR,KAAKF,OAAOY,oDC7HpExB,EAAAM,YAAA,EAEAN,EAAAK,QAAA,SAAAyD,EAAAC,GACA,KAAAD,aAAAC,GACA,UAAAC,UAAA,4DCNA,IAAAC,EAAArE,EAAA,QAEAqE,IAAAC,EAAAD,EAAAE,GAAAvE,EAAA,kBAAuEQ,eAAAR,EAAA,QAAAwE,uCCAvEpE,EAAAM,YAAA,EAEA,IAIA+D,EAJAC,EAAA1E,EAAA,QAEA2E,GAEAF,EAFAC,IAEsCD,EAAA/D,WAAA+D,GAAuChE,QAAAgE,GAE7ErE,EAAAK,QAAA,WACA,SAAAmE,EAAAC,EAAAC,GACA,QAAApB,EAAA,EAAmBA,EAAAoB,EAAAjC,OAAkBa,IAAA,CACrC,IAAAqB,EAAAD,EAAApB,GACAqB,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,IACA,EAAAP,EAAAlE,SAAAoE,EAAAE,EAAAzE,IAAAyE,IAIA,gBAAAZ,EAAAgB,EAAAC,GAGA,OAFAD,GAAAP,EAAAT,EAAAkB,UAAAF,GACAC,GAAAR,EAAAT,EAAAiB,GACAjB,GAdA","file":"static/js/1.c3138d099931488e16a8.js","sourcesContent":["require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 1","// Float32Array.prototype.max = function(){ \n//     return Math.max.apply({},this) \n// } \n// Float32Array.prototype.min = function(){ \n//     return Math.min.apply({},this) \n// } \nFloat32Array.max = function( Float32Array ){ \n    return Math.max.apply( Math, Float32Array );\n};\nclass Canvas {\n\tconstructor(canvas) {\n        this.canvas = canvas;\n        this.context = canvas.getContext('2d');\n    }\n\n    windowToCanvas(x, y) {\n        var bbox = this.canvas.getBoundingClientRect();\n        return {\n            x: x - bbox.left * (canvas.width / bbox.width),\n            y: y - bbox.top * (canvas.height / bbox.height)\n        };\n    }\n\n    /**\n     * 画图片\n     * @param {img} img\n     * @param {imgX} 图片所在x信息\n     * @param {imgY} 图片所在y信息\n     * @param {imgScale} 放大倍数\n     */\n    drawImage(img,imgX,imgY,imgScale) {\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (img) {\n            this.context.globalAlpha = 1;\n            this.context.drawImage(\n                img,\n                0,\n                0,\n                img.width,\n                img.height,\n                imgX,\n                imgY,\n                img.width * imgScale,\n                img.height * imgScale\n            );\n        }\n    }\n\n    /**\n     * 画矩形框\n     * @param {rectArr} 矩形框信息数组\n     * @param {x} 位置信息x\n     * @param {y} 位置信息y\n     * @param {width} 矩形框宽度\n     * @param {height} 矩形框高度\n     */\n    drawRect(rectArr){\n    \tthis.clearAllRect()\n    \trectArr.forEach((rect)=> {\n    \t\tthis.context.beginPath();\n\t        this.context.rect(rect.x,rect.y,rect.width,rect.height);\n\t        this.context.stroke();\n    \t})  \n    }\n\n    /**\n     * 画路径\n     * @param {lineWidht} 线宽\n     * @param {color} 颜色\n     * @param {arr} 数据集\n     * @param {rate} 间距\n     */\n    drawPath(arr=[], lineWidth=1, color='black', rate=1){\n        this.clearAllRect()\n        this.canvas.width = rate*(arr.length)\n        this.context.lineWidth = lineWidth;\n        this.context.strokeStyle = color;\n        this.context.fillStyle=color;\n        const x = this.canvas.height/2;\n        const max = Math.max.apply(null, arr);\n        const min = Math.min.apply(null, arr);\n        const padding = 20;\n        let base = 1;\n        if(Math.abs(max) > Math.abs(min)) {\n             base = x/Math.abs(max);\n        }else {\n            base = x/Math.abs(min)\n        }\n        var newArr = arr.map((p) => p*base+x-padding)\n        for(let i in newArr) {\n            if(i == 0) {\n                this.context.moveTo(0, newArr[i])\n            }else {\n                if(i == newArr.length-1) {\n                    this.context.closePath();\n                    this.context.stroke();\n                    this.context.fill();\n                }else {\n                    this.context.lineTo(i*rate, newArr[i])\n                }\n            }\n        }\n    }\n\n    /**\n     * 命中判定\n     * 核心思想： 由于isPointInPath只能判断最后一次path，\n     * 故，遍历所有矩形数组 单独画每一个矩形 进行命中检测.\n     * 注意：检测之后 要还原之前的矩形 即重画一次原始矩形数组\n     */\n\n    hitJudge(rectArr,pos){\n    \tfor(let i in rectArr) {\n    \t\tthis.drawRect([rectArr[i]])\n    \t\tif(this.context.isPointInPath(pos.x, pos.y)) {\n    \t\t\tthis.drawRect(rectArr)\n    \t\t\treturn i\n    \t\t}\n    \t}\n    \tthis.drawRect(rectArr)\n    \treturn (-1)\n    }\n\n    /**\n     * 清理画布\n     */\n    clearAllRect() {\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n}\n\nexport { Canvas };\n\n\n// WEBPACK FOOTER //\n// ./src/page/canvasDemo/tool/canvasTool.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = Zrlr\n// module chunks = 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = wxAW\n// module chunks = 1"],"sourceRoot":""}